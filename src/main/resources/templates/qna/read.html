<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{/layout/basic :: setContent(~{this::content})}">
    <th:block th:fragment="content">
        <!--페이지 수정 부분 시작-->
        <!-- 페이지 css/ js 추가 -->


        <link rel="stylesheet" th:href="@{/css/board/qna/read.css}">
        <script th:src="@{/js/board/qna/likes.js}"></script>
        <link id="contextPathHolder" th:data-contextPath="${#httpServletRequest.getContextPath()}"/>

        <!-- 본문 시작 -->
        <form action="" method="">

        <div class="content">
            <div class="form-group">


                <!-- 카테고리 -->
                <div>
                    <span id="qnaNo" hidden th:text="${boardList.qnaNo}"></span>
                    <span class="cate" th:text="${boardList.job}" ></span>
                </div>

                <h1 th:text="${boardList.title}"></h1>

                <div style="width:100%;height:70px">
                    <div class="leftSection">
                        <!-- 작성자 -->
                        <div class="writer" name="writer" th:text="${boardList.writer}"></div>

                        <!-- 날짜 -->
                        <div class="dateTime">
                            <span>등록일:
                                <span name="regDate" th:text="${#temporals.format(boardList.regDate,'yyyy/MM/dd HH:mm:ss')}"
                                      style="margin-right: 15px;"></span>
                            </span>
                            <span>수정일:
                                <span name="modDate" th:text="${#temporals.format(boardList.modDate,'yyyy/MM/dd HH:mm:ss')}"></span>
                            </span>
                        </div>
                    </div>
                    <div class="rightSection coinBox">
                        <img class="coin" th:src="@{/assets/coins.png}">[[${boardList.ddun}]]
                    </div>
                </div>


                <!-- 본문 -->
                <hr>
                <div class="content_height" name="content" th:utext="${boardList.content}"></div>

            </div>

            <!-- 좋아요, 수정 삭제 -->
            <div style="width:100%; height:30px">
                <div class="like leftSection" >
                    <span th:if="${qnaCheck} == null" th:id="likeBtn"><img th:attr="src = @{/assets/heart_0.png}" class="heartImg"></span>
                    <span th:if="${qnaCheck} != null" th:id="likeBtn"><img th:attr="src = @{/assets/heart_1.png}" class="heartImg"></span>
                    <span id="likesCnt" class="smallText">[[${boardList.likesCnt}]]</span>
                    <span id="viewCnt" class="smallText">&nbsp조회수&nbsp[[${boardList.ViewCnt}]]</span>
                </div>
                <div class="rightSection smallText" th:if="${checkUser} == true" >
                    <span class="removeBtn">삭제 | </span>
                    <span class="modifyBtn">수정</span>
                </div>
<!--                <div class="rightSection smallText" th:if="${selfCheck} != null" >
                    <span th:href="@{/qna/board/delete}">삭제</span>
                    <span th:href="@{/qna/board/modify}">수정</span>
                </div>-->
            </div>

            <hr>

            <div class="listGo">
                <a class="btn btn-primary" onclick='javascript:window.history.back()'>뒤로가기</a>
            </div>

        </div>
        </form>


        <script th:inline="javascript">
     var contextPath = $('#contextPathHolder').attr('data-contextPath') ? $('#contextPathHolder').attr('data-contextPath') : '';

      var actionForm = $("form");
      $(".removeBtn").click(function(){
          if(!confirm("삭제하시겠습니까?")){
          return;
        }
        actionForm.attr("action", "contextPath + /qna/remove").attr("method","post");
        actionForm.submit();
      });
      $(".modifyBtn").click(function(){
        if(!confirm("수정하시겠습니까?")){
          return;
        }
        actionForm.attr("action", " contextPath + /qna/modify").attr("method","post").submit();
      });
</script>
        <!-- 본문 끝 -->
        <!--페이지 수정 부분 끝-->
    </th:block>
</th:block>
