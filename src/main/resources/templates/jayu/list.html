<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{/layout/basicList :: setContent(~{this::content})}">
    <th:block th:fragment="content">
        <!--페이지 수정 부분 시작-->

        <!-- 페이지 css/ js 추가 -->
        <link th:href="@{/css/board/qna/qnaStyles.css}" rel="stylesheet" />
        <link th:href="@{/css/board/jayu/register.css}" rel="stylesheet" />

        <!-- 본문 시작 -->
        <div class="subNav-body">
            <nav class="nav nav-underline" aria-label="Secondary navigation">
                <a class="subNav" th:href="@{/jayu/list/}">전체</a><a th:each="cateList : ${cateList}" class="subNav" th:href="@{'/jayu/list/jayuCateNo=' + ${cateList.jayuCateNo}(page = ${page})}">
                [[${cateList.jayuCateName}]]
            </a>
            </nav>
        </div>

        <a th:href="@{/member/jayu/register}">
            <button class="btn btn-primary" style="float: right; margin-top: -130px;">글 쓰기</button>
        </a>

        <!-- 게시물 -->
        <div class="card qnaCardList" th:each=" jayuList: ${jayuList.dtoList}">
            <!-- 게시글 정보 -->
            <div class="post-body attach-img-pre">
                <div class="leftSection">
                    <!-- 카테고리 -->
                    <span class="cate cate_line">[[${jayuList.jayuCateName}]]</span>
                    <!-- 제목 + 글 -->
                    <div class="post-content">
                        <h3><a th:href="@{/member/jayu/read/jayuNo=}+${jayuList.jayuNo}" th:text="${jayuList.title}" class="list_title"></a></h3>
                            <a class="content-text" style="height: 50px;" th:href="@{/member/jayu/read/jayuNo=}+${jayuList.jayuNo}" th:utext="${jayuList.content}"></a>
                    </div>
                </div>
                <!-- 썸네일 -->
                <div class="rightSection">
                    <a href="#post">
                        <img class="imgTest" style="display:inline-block;
                    background:lightgray; width:8rem; height:8rem;" src="" alt="">
                        <!--           <img th:if="${dto.imageDTOList.size() > 0 && dto.imageDTOList[0].path != null}"
                                        th:src="|/display?fileName=${dto.imageDTOList[0].getThumbnailURL()}|">-->
                    </a>
                </div>
            </div>

            <!-- 사용자 정보 -->
            <div class="boardInfo">
                <!-- 작성자 및 조회수 -->
                <div class="leftSection">
                    <div class="" ><a class="nickName" th:href="@{/member/jayu/read/jayuNo=}+${jayuList.jayuNo}">[[${jayuList.writer}]]</a></div>

                    <div class="wrapInfo">
                        <a class="views" th:href="@{/member/jayu/read/jayuNo=}+${jayuList.jayuNo}"><img th:src="@{/assets/eye.png}" width="24px;"> 542</a>
                        <a class="like" th:href="@{/member/jayu/read/jayuNo=}+${jayuList.jayuNo}"><img th:src="@{/assets/heart_0.png}" width="20px;"> 125</a>
                        <a class="cmt" th:href="@{/member/jayu/read/jayuNo=}+${jayuList.jayuNo}"><img th:src="@{/assets/messenger.png}" width="19px;"> 51</a>
                    </div>
                </div>

                <!-- 등록일 -->
                <div class="rightSection">
                    <a href="#post" class="regDate" th:href="@{/member/jayu/read/jayuNo=}+${jayuList.jayuNo}" th:text="${#temporals.format(jayuList.regDate, 'yy-MM-dd')}"></a>
                </div>
            </div>

        </div>
        <!-- cardList end -->

        <!--    페이지 번호     -->
        <nav aria-label="Page navigation example">
            <ul class="pagination h-100 justify-content-center align-items-center">
                <li class="page-item" th:if="${jayuList.prev}">
                    <a class="page-link" th:href="@{/jayu/list(page=${jayuList.start - 1},
                type=${pageRequestDTO.type},
                keyword = ${pageRequestDTO.keyword} ) }" tabindex="-1">이전</a>
                </li>

                <li th:class=" 'page-item '+ ${jayuList.page == page?'active':''} "
                    th:each="page: ${jayuList.pageList}">
                    <a class="page-link" th:each="cateList : ${cateList}" th:href="@{'/jayu/list/jayuCateNo=' + ${cateList.jayuCateNo}(page = ${page})}">
                        [[${page}]]
                    </a>
                </li>

                <li class="page-item" th:if="${jayuList.next}">
                    <a class="page-link" th:href="@{/jayu/list(page= ${jayuList.end + 1}, type=${pageRequestDTO.type}
                , keyword = ${pageRequestDTO.keyword} )}">다음</a>
                </li>
            </ul>
        </nav>
        <!-- 본문 끝 -->
        <!--페이지 수정 부분 끝-->
    </th:block>
</th:block>
